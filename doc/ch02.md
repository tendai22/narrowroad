# 2章 実行環境の整備

70年当時のミニコン環境を整えます。機械語/アセンブラでの開発がメインで、私個人として経験のない68000を選びました。

今風の開発環境として、SBC(Single Board Computer)とエミュレータソフトウェアを用意しました。SBCは、68008 CPU, 128k SRAM, PIC18F CPUからなる基板です。エミュレータは[Musashi](https://github.com/kstenerud/Musashi)をベースにしました。68000ファミリをFPU/MMUまで備えたなかなかのエミュレータだと思います。

## 70年代の実行環境・開発環境

Mooreがたどった道をたどるために、70年当時のミニコン環境に近づけます。CPUとメモリとスイッチパネル、数MByteのハードディスクと、タイプライタ端末、紙テープリーダ・パンチャです。

ミニコン自体は19インチラック1本にCPU/メモリとフロントパネルが刺さっています。磁気テープ装置やハードディスクも含めてラック数本でコンピュータ1台を構成していたようです。オペレータの一人は、**タイプライタ端末**の前に座ってコンピュータを操作するふりをしています。

図1. PDP-11ミニコンピュータ全景(PDP-11の前でポーズを取るDennis RitchieとKen Tompson)

<img width=500, src="img/02-001-unix-creators.jpg">

**フロントパネル**: コンピュータを操作するためのスイッチが並んでいます。CPUを止めておくスイッチ、CPU停止中にRAM上に1バイト1バイトデータを書き込んでゆくためのスイッチがならんでいます。

図2. PDP-11のフロントパネル

<img width=500, src="img/PanelInCase_Side-800x540.jpg">

当時のミニコンピュータは、電源投入直後にメモリ上にはなにもなく、フロントパネルのスイッチを操作して、0番地から1バイトずつIPLを書き込み、それを実行して実行したいプログラムを紙テープから読み込むというのが使い始めの手続きとなっていました。

[ミニコンPDP-11のフロントパネル](https://arstechnica.com/gadgets/2022/03/a-brief-tour-of-the-pdp-11-the-most-influential-minicomputer-of-all-time/)